#!./gurax
PrintPUnit(expr:Expr) = {
	seqIdOffset = 0
	punits = expr.EachPUnit()
	punit = punits.NextValue()
	seqIdOffset = punit.seqId
	while (punit) {
		Printf('  ##%d %s\n', punit.seqId - seqIdOffset, punit.ToString(seqIdOffset))
		punit = punits.NextValue()
	}
}
Println('--------')
expr = `{
	f(a, b, c) {
		Println(a)
	}
}
Printf('%s\n', expr)
PrintPUnit(expr)
Println('--------')
expr = `(a)
Printf('`(%s)\n', expr)
PrintPUnit(expr)
Println('--------')
f(`expr) = {
	Printf('f(`(%s))\n', expr)
	PrintPUnit(expr)
}
f(a = 3)
Println('--------')
expr = `{
	while (a < 3) {}
}
PrintPUnit(expr)
