#!./gurax
import(util) {*}

TestCase('PUnit') {
	exprs = [
		`repeat {}
		`repeat {|n| nil}
		`repeat (3) {}
		`repeat (3) {|n| nil}
		`repeat ():list {}
		`repeat ():list {|n| nil}
		`repeat (3):list {}
		`repeat (3):list {|n| nil}
		`repeat ():xlist {}
		`repeat ():xlist {|n| nil}
		`repeat (3):xlist {}
		`repeat (3):xlist {|n| nil}
	]
	for (expr in exprs) {
		Printf('`%s\n', expr)
		PrintPUnit(expr)
	}
}

TestCase('Create list') {
	Tester(`repeat (10):list {'x'})
	Tester(`repeat (10):xlist {|i| if (i % 2 == 0) { continue }; i})
}
