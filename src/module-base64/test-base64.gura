#!/usr/bin/env gurax
//==============================================================================
// test-base64.gura
//==============================================================================
import(util.tester) {*}

TestEncDec(buffSrc:Binary) = {
	buffEnc = base64.Encode(buffSrc)
	buffDec = base64.Decode(buffEnc)
	Printf('Source:  %s\n', buffSrc)
	//Println('Dec:', buffDec)
	Printf('Encoded: %s .. %s\n', buffEnc, cond(buffSrc == buffDec, 'OK', '**NG**'))
}

TestCase('Basic test') {
	TestEncDec(b'')
	TestEncDec(b'f')
	TestEncDec(b'fo')
	TestEncDec(b'foo')
	TestEncDec(b'foob')
	TestEncDec(b'fooba')
	TestEncDec(b'foobar')
	TestEncDec(b'abcdefghijklmnopqrstuvwxyz')
}
