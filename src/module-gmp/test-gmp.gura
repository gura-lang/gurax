#!/usr/bin/env gurax
//==============================================================================
// test-gmp.gura
//==============================================================================
import(util.tester) {*}
import(gmp)

TestCase('Property') {
	gmp.mpz.PrintPropSlots()
	gmp.mpq.PrintPropSlots()
	gmp.mpf.PrintPropSlots()
	gmp.Random.PrintPropSlots()
}

TestCase('gmp.mpz') {
	Tester(`Format('%d', 0L))
	Tester(`Format('%d', 1L))
	Tester(`Format('%d', 1234567890123456789012345678901234567890123456789012345678901234567890L))
	Tester(`Format('%x', 0x0L))
	Tester(`Format('%x', 0x1L))
	Tester(`Format('%x', 0x1234567890123456789012345678901234567890123456789012345678901234567890L))
}

TestCase('gmp.mpq') {
	Tester(`(0Lr))
	Tester(`(1Lr))
	Tester(`(3Lr))
	Tester(`(1 / 2Lr))
	Tester(`(-1Lr))
	Tester(`(-1Lr / 3))
}

TestCase('gmp.mpf') {
	prec = gmp.mpf.default_prec
	Tester(`Format('%f', 0.L))
	Tester(`Format('%f', 1.L))
	gmp.mpf.default_prec = 64
	Printf('prec = %d\n', gmp.mpf.default_prec)
	Tester(`Format('%.f', 1234567890123456789012345678901234567890123456789012345678901234567890.123456789012345678901234567890123456789012345678901234567890123456789L))
	gmp.mpf.default_prec = 128
	Printf('prec = %d\n', gmp.mpf.default_prec)
	Tester(`Format('%.f', 1234567890123456789012345678901234567890123456789012345678901234567890.123456789012345678901234567890123456789012345678901234567890123456789L))
	gmp.mpf.default_prec = 256
	Printf('prec = %d\n', gmp.mpf.default_prec)
	Tester(`Format('%.f', 1234567890123456789012345678901234567890123456789012345678901234567890.123456789012345678901234567890123456789012345678901234567890123456789L))
	gmp.mpf.default_prec = 512
	Printf('prec = %d\n', gmp.mpf.default_prec)
	Tester(`Format('%.f', 1234567890123456789012345678901234567890123456789012345678901234567890.123456789012345678901234567890123456789012345678901234567890123456789L))
	gmp.mpf.default_prec = prec
}

TestCase('!a') {
	
}

TestCase('~a') {
}

TestCase('-a') {
}

TestCase('a + b') {
}

TestCase('a - b') {
}

TestCase('a * b') {
}

TestCase('a / b') {
}

TestCase('math.Abs()') {
}

TestCase('math.Ceil()') {
}

TestCase('math.Floor()') {
}

TestCase('math.Sqrt()') {
	Tester(`(math.Sqrt(0L)))
	Tester(`(math.Sqrt(0Lr)))
	Tester(`(math.Sqrt(0.L)))
	Tester(`(math.Sqrt(1L)))
	Tester(`(math.Sqrt(1Lr)))
	Tester(`(math.Sqrt(1.L)))
	Tester(`(math.Sqrt(2L)))
	Tester(`(math.Sqrt(2.L)))
	Tester(`(math.Sqrt(3L)))
	Tester(`(math.Sqrt(3.L)))
	Tester(`(math.Sqrt(9L)))
	Tester(`(math.Sqrt(9.L)))
	Tester(`(math.Sqrt(12345L)))
	Tester(`(math.Sqrt(12345.L)))
}

TestCase('gmp.Random') {
}
