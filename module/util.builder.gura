#!/usr/bin/env gurax
//==============================================================================
// util.builder.gura
//==============================================================================

//------------------------------------------------------------------------------
// BuildRule
//------------------------------------------------------------------------------
BuildRule = struct {
	pathNameTgt:String
	pathNamesSrc[]:String
	func:Function
	Execute() = {
		if (!fs.Exists(this.pathNameTgt) || \
			(fs.Stat(this.pathNameTgt).mtime < fs.Stat(this.pathNamesSrc):*mtime).Or()) {
			this.func()
		} else {
			true
		}
	}
}

//------------------------------------------------------------------------------
// BuilderBase
//------------------------------------------------------------------------------
BuilderBase = class {
}

//------------------------------------------------------------------------------
// Builder
//------------------------------------------------------------------------------


BuildRule('', '', Compile)
