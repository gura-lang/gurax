#!/usr/bin/env gurax
import(util.tester) {*}

//-----------------------------------------------------------------------------
TestCase('Local variables in embed') {
	//--------
	tmpl = R'''
	${x = 'embed', -}
	x = ${x}
	'''.Template()
	//--------
	R'''
	${x = 'body', -}
	x = ${x}
	embed tmpl
	${=embed(tmpl)}
	x = ${x}
	'''.RenderTemplate(sys.cout)
}
