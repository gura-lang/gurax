#!/usr/bin/env gurax
import(util.tester) {*}

b = Binary()
b.Writer {|s|
	s.Write(b'abcdefg')
	b.Dump()
}
sys.Exit()

TestCase('Property') {
	Tester(`Binary.__prop__(`bytes))
	Tester(`Binary.__prop__(`p))
	Tester(`Binary.__prop__(`reader))
	Tester(`Binary.__prop__(`writable))
	Tester(`Binary.__prop__(`writer))
}

TestCase('Constructor') {
	Tester(`b'abcdefg')
	Tester(`B'abcdefg')
	Tester(`Binary())
}

TestCase('Binary#writable') {
	Tester(`b'abcdefg'.writable)
	Tester(`B'abcdefg'.writable)
	Tester(`Binary().writable)
}

TestCase('Binary#Writer()') {
	Tester(`b'abcdefg'.Writer())
	Tester(`B'abcdefg'.Writer())
	Tester(`Binary().Writer())
}
