#!/usr/bin/env gurax
import(util.tester) {*}

TestCase('String#StartsWith(), String#EndsWith()') {
	str = 'abcdefghijklmn'
	exprs = [
		`str
		`str.StartsWith('abcd')
		`str.StartsWith('abdd')
		`str.StartsWith('ABCD')
		`str.StartsWith('ABCD'):icase
		`str.EndsWith('klmn')
		`str.EndsWith('klmm')
		`str.EndsWith('KLMN')
		`str.EndsWith('KLMN'):icase
		`str.StartsWith('defg', 3)
		`str.EndsWith('ghij', 10)
		`str.StartsWith('abcd'):rest
		`str.StartsWith('abdd'):rest
		`str.StartsWith('ABCD'):rest
		`str.StartsWith('ABCD'):rest:icase
		`str.EndsWith('klmn'):rest
		`str.EndsWith('klmm'):rest
		`str.EndsWith('KLMN'):rest
		`str.EndsWith('KLMN'):rest:icase
		`str.StartsWith('defg', 3):rest
		`str.EndsWith('ghij', 10):rest
	]
	Tester(exprs)
}
TestCase('String#len, String#width') {
	exprs = [
		`str
		`str.len
		`str.width
	]
	str = 'abcdefghijklmn'
	Tester(exprs)
	str = 'あいうえおかきくけこ'
	Tester(exprs)
}
TestCase('String#Find()') {
	str = 'abcdefghijklmn'
	exprs = [
		`str
		`str.Find('a')
		`str.Find('d')
		`str.Find('n')
		`str.Find('z')
		`str.Find('a', 1)
		`str.Find('d', 1)
		`str.Find('n', 1)
		`str.Find('a', 6)
		`str.Find('d', 6)
		`str.Find('n', 6)
		`str.Find('abcd')
		`str.Find('defg')
		`str.Find('deff')
		`str.Find('ABCD')
		`str.Find('DEFG')
		`str.Find('ABCD'):icase
		`str.Find('DEFG'):icase
	]
	Tester(exprs)
	str = 'あいうえおかきくけこ'
	exprs = [
		`str
		`str.Find('あ')
		`str.Find('お')
		`str.Find('こ')
		`str.Find('ん')
		`str.Find('あいうえ')
		`str.Find('おかきく')
		`str.Find('おかきき')
	]
	Tester(exprs)
}
